{"version":3,"sources":["../dist-esnext/Score.js"],"names":["Board","getInitialColorScore","won","winners","preWinnersPoints","getInitialScore","black","ended","white","getColorScore","startEndRow","positions","score","reduce","newScore","position","y","endRow","startRow","length","getScore","board","pieces","getPiecesFromBoard","startEndRows","getStartEndRows"],"mappings":";;;;;;;AAAA;;IAAYA,K;;;;AACZ,SAASC,oBAAT,GAAgC;AAC5B,WAAO;AACHC,aAAK,KADF;AAEHC,iBAAS,CAFN;AAGHC,0BAAkB;AAHf,KAAP;AAKH;AACD,SAASC,eAAT,GAA2B;AACvB,WAAO;AACHC,eAAOL,sBADJ;AAEHM,eAAO,KAFJ;AAGHC,eAAOP;AAHJ,KAAP;AAKH;AACD;;;;;AAKA,SAASQ,aAAT,CAAuBC,WAAvB,EAAoCC,SAApC,EAA+C;AAC3C,QAAMC,QAAQD,UAAUE,MAAV,CAAiB,UAACC,QAAD,EAAWC,QAAX,EAAwB;AACnD,YAAIA,SAASC,CAAT,KAAeN,YAAYO,MAA/B,EACIH,SAASX,OAAT,IAAoB,CAApB,CADJ,KAGIW,SAASV,gBAAT,IAA6BM,YAAYO,MAAZ,KAAuB,CAAvB,GACvBP,YAAYQ,QAAZ,GAAuBH,SAASC,CADT,GAEvBD,SAASC,CAFf;AAGJ,eAAOF,QAAP;AACH,KARa,EAQXb,sBARW,CAAd;AASAW,UAAMV,GAAN,GAAYU,MAAMT,OAAN,KAAkBQ,UAAUQ,MAAxC;AACA,WAAOP,KAAP;AACH;AACD;;;AAGA,SAASQ,QAAT,CAAkBC,KAAlB,EAAyB;AACrB,QAAMC,SAAStB,MAAMuB,kBAAN,CAAyBF,KAAzB,CAAf;AACA,QAAMG,eAAexB,MAAMyB,eAAN,CAAsBJ,KAAtB,CAArB;AACA,QAAMb,QAAQC,cAAce,aAAahB,KAA3B,EAAkCc,OAAOd,KAAzC,CAAd;AACA,QAAMF,QAAQG,cAAce,aAAalB,KAA3B,EAAkCgB,OAAOhB,KAAzC,CAAd;AACA,WAAO;AACHC,eAAOC,MAAMN,GAAN,IAAaI,MAAMJ,GADvB;AAEHM,oBAFG;AAGHF;AAHG,KAAP;AAKH;QACQG,a,GAAAA,a;QAAeW,Q,GAAAA,Q;QAAUnB,oB,GAAAA,oB;QAAsBI,e,GAAAA,e;AACxD","file":"Score.js","sourcesContent":["import * as Board from './Board';\nfunction getInitialColorScore() {\n    return {\n        won: false,\n        winners: 0,\n        preWinnersPoints: 0\n    };\n}\nfunction getInitialScore() {\n    return {\n        black: getInitialColorScore(),\n        ended: false,\n        white: getInitialColorScore()\n    };\n}\n/**\n * Get color score\n *\n * returns { won, winners, preWinnersPoints }\n */\nfunction getColorScore(startEndRow, positions) {\n    const score = positions.reduce((newScore, position) => {\n        if (position.y === startEndRow.endRow)\n            newScore.winners += 1;\n        else\n            newScore.preWinnersPoints += startEndRow.endRow === 0\n                ? startEndRow.startRow - position.y\n                : position.y;\n        return newScore;\n    }, getInitialColorScore());\n    score.won = score.winners === positions.length;\n    return score;\n}\n/**\n * Takes a board and return Score\n */\nfunction getScore(board) {\n    const pieces = Board.getPiecesFromBoard(board);\n    const startEndRows = Board.getStartEndRows(board);\n    const white = getColorScore(startEndRows.white, pieces.white);\n    const black = getColorScore(startEndRows.black, pieces.black);\n    return {\n        ended: white.won || black.won,\n        white,\n        black\n    };\n}\nexport { getColorScore, getScore, getInitialColorScore, getInitialScore };\n//# sourceMappingURL=Score.js.map"]}