{"version":3,"sources":["../dist-esnext/GameColor.js"],"names":["create","boardConf","isBlack","pieces","black","white","startRow","endRow","score","winners","preWinnersPoints","jumps","points","nMoves","getPiecesAfterMove","move","map","piece","position","x","from","y","to","getScore","color","initialWinners","reduce","getColorAfterMove","hasWon","length"],"mappings":";;;;;AAAA,SAASA,MAAT,CAAgBC,SAAhB,EAA2BC,OAA3B,EAAoCC,MAApC,EAA4C;AAAA,eACXD,UAAUD,UAAUG,KAApB,GAA4BH,UAAUI,KAD3B;AAAA,QAChCC,QADgC,QAChCA,QADgC;AAAA,QACtBC,MADsB,QACtBA,MADsB;;AAExC,WAAO;AACHC,eAAO;AACHC,qBAAS,CADN;AAEHC,8BAAkB;AAFf,SADJ;AAKHC,eAAO,CALJ;AAMHC,gBAAQ,CANL;AAOHC,gBAAQ,CAPL;AAQHV,sBARG;AASHD,wBATG;AAUHI,0BAVG;AAWHC;AAXG,KAAP;AAaH;AACD;;;;AAIA,SAASO,kBAAT,CAA4BX,MAA5B,EAAoCY,IAApC,EAA0C;AACtC,WAAOZ,OAAOa,GAAP,CAAW,iBAAS;AACvB,YAAIC,MAAMC,QAAN,CAAeC,CAAf,KAAqBJ,KAAKK,IAAL,CAAUD,CAA/B,IACGF,MAAMC,QAAN,CAAeG,CAAf,KAAqBN,KAAKK,IAAL,CAAUC,CADtC,EACyC;AACrCJ,kBAAMC,QAAN,CAAeC,CAAf,GAAmBJ,KAAKO,EAAL,CAAQH,CAA3B;AACAF,kBAAMC,QAAN,CAAeG,CAAf,GAAmBN,KAAKO,EAAL,CAAQD,CAA3B;AACH;AACD,eAAOJ,KAAP;AACH,KAPM,CAAP;AAQH;AACD,SAASM,QAAT,CAAkBC,KAAlB,EAAyB;AACrB,QAAMC,iBAAiB;AACnBhB,iBAAS,CADU;AAEnBC,0BAAkB;AAFC,KAAvB;AAIA,WAAOc,MAAMrB,MAAN,CAAauB,MAAb,CAAoB,UAACjB,OAAD,EAAUQ,KAAV,EAAoB;AAC3C,YAAIA,MAAMC,QAAN,CAAeG,CAAf,KAAqBG,MAAMjB,MAA/B,EACIE,QAAQA,OAAR,IAAmB,CAAnB,CADJ,KAGIA,QAAQC,gBAAR,IAA4Bc,MAAMjB,MAAN,KAAiB,CAAjB,GACtBiB,MAAMlB,QAAN,GAAiBW,MAAMC,QAAN,CAAeG,CADV,GAEtBJ,MAAMC,QAAN,CAAeG,CAFrB;AAGJ,eAAOZ,OAAP;AACH,KARM,EAQJgB,cARI,CAAP;AASH;AACD;;;;;;;AAOA,SAASE,iBAAT,CAA2BH,KAA3B,EAAkCT,IAAlC,EAAwC;AACpCS,UAAMrB,MAAN,GAAeW,mBAAmBU,MAAMrB,MAAzB,EAAiCY,IAAjC,CAAf;AACAS,UAAMhB,KAAN,GAAce,SAASC,KAAT,CAAd;AACA,WAAOA,KAAP;AACH;AACD;;;AAGA,SAASI,MAAT,CAAgBJ,KAAhB,EAAuB;AACnB,WAAOA,MAAMhB,KAAN,CAAYC,OAAZ,KAAwBe,MAAMrB,MAAN,CAAa0B,MAA5C;AACH;QACQ7B,M,GAAAA,M;QAAQ2B,iB,GAAAA,iB;QAAmBJ,Q,GAAAA,Q;QAAUK,M,GAAAA,M;AAC9C","file":"GameColor.js","sourcesContent":["function create(boardConf, isBlack, pieces) {\n    const { startRow, endRow } = isBlack ? boardConf.black : boardConf.white;\n    return {\n        score: {\n            winners: 0,\n            preWinnersPoints: 0\n        },\n        jumps: 0,\n        points: 0,\n        nMoves: 0,\n        pieces,\n        isBlack,\n        startRow,\n        endRow\n    };\n}\n/**\n * Takes a list of pieces and move.\n * Returns the pieces changed with move positions.\n */\nfunction getPiecesAfterMove(pieces, move) {\n    return pieces.map(piece => {\n        if (piece.position.x === move.from.x\n            && piece.position.y === move.from.y) {\n            piece.position.x = move.to.x;\n            piece.position.y = move.to.y;\n        }\n        return piece;\n    });\n}\nfunction getScore(color) {\n    const initialWinners = {\n        winners: 0,\n        preWinnersPoints: 0\n    };\n    return color.pieces.reduce((winners, piece) => {\n        if (piece.position.y === color.endRow)\n            winners.winners += 1;\n        else\n            winners.preWinnersPoints += color.endRow === 0\n                ? color.startRow - piece.position.y\n                : piece.position.y;\n        return winners;\n    }, initialWinners);\n}\n/**\n * Takes a GameColor and move.\n * Sets:\n *  - .pieces = getPiecesAfterMove.\n *  - .score = getScore.\n * Returns GameColor after move.\n */\nfunction getColorAfterMove(color, move) {\n    color.pieces = getPiecesAfterMove(color.pieces, move);\n    color.score = getScore(color);\n    return color;\n}\n/**\n * Checks if all pieces are winners\n */\nfunction hasWon(color) {\n    return color.score.winners === color.pieces.length;\n}\nexport { create, getColorAfterMove, getScore, hasWon };\n//# sourceMappingURL=GameColor.js.map"]}