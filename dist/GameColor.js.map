{"version":3,"sources":["../dist-esnext/GameColor.js"],"names":["getColorWinners","setColorWinners","colorWin","GameColor","boardOptions","isBlack","winners","preWinnersPoints","jumps","points","nMoves","y","size","startRow","endRow","pieces","getStartPieces","startPosition","nextPosition","forEach","piece","position","x","color","initialWinners","reduce","length"],"mappings":";;;;;;;;;QA4BgBA,e,GAAAA,e;QAeAC,e,GAAAA,e;QAIAC,Q,GAAAA,Q;;AA/ChB;;;;IACaC,S,WAAAA,S;AACT;;;AAGA,uBAAYC,YAAZ,EAA0BC,OAA1B,EAAmC;AAAA;;AAC/B,aAAKC,OAAL,GAAe;AACXA,qBAAS,CADE;AAEXC,8BAAkB;AAFP,SAAf;AAIA,aAAKC,KAAL,GAAa,CAAb;AACA,aAAKC,MAAL,GAAc,CAAd;AACA,aAAKC,MAAL,GAAc,CAAd;AACA,YAAMC,IAAKP,aAAaQ,IAAb,CAAkBD,CAAlB,GAAsB,CAAjC;AACA,aAAKE,QAAL,GAAgBR,UAAU,CAAV,GAAcM,CAA9B;AACA,aAAKG,MAAL,GAAcT,UAAUM,CAAV,GAAc,CAA5B;AACA,aAAKI,MAAL,GAAc,yBAAYC,cAAZ,CAA2BZ,YAA3B,EAAyC,KAAKS,QAA9C,EAAwDR,OAAxD,CAAd;AACH;;;;6BACIY,a,EAAeC,Y,EAAc;AAC9B,iBAAKH,MAAL,CAAYI,OAAZ,CAAoB,iBAAS;AACzB,oBAAIC,MAAMC,QAAN,CAAeC,CAAf,KAAqBL,cAAcK,CAAnC,IACGF,MAAMC,QAAN,CAAeV,CAAf,KAAqBM,cAAcN,CAD1C,EAC6C;AACzCS,0BAAMC,QAAN,CAAeC,CAAf,GAAmBJ,aAAaI,CAAhC;AACAF,0BAAMC,QAAN,CAAeV,CAAf,GAAmBO,aAAaP,CAAhC;AACH;AACJ,aAND;AAOH;;;;;;AAEE,SAASX,eAAT,CAAyBuB,KAAzB,EAAgC;AACnC,QAAMC,iBAAiB;AACnBlB,iBAAS,CADU;AAEnBC,0BAAkB;AAFC,KAAvB;AAIA,WAAOgB,MAAMR,MAAN,CAAaU,MAAb,CAAoB,UAACnB,OAAD,EAAUc,KAAV,EAAoB;AAC3C,YAAIA,MAAMC,QAAN,CAAeV,CAAf,KAAqBY,MAAMT,MAA/B,EACIR,QAAQA,OAAR,IAAmB,CAAnB,CADJ,KAGIA,QAAQC,gBAAR,IAA4BgB,MAAMT,MAAN,KAAiB,CAAjB,GACtBS,MAAMV,QAAN,GAAiBO,MAAMC,QAAN,CAAeV,CADV,GAEtBS,MAAMC,QAAN,CAAeV,CAFrB;AAGJ,eAAOL,OAAP;AACH,KARM,EAQJkB,cARI,CAAP;AASH;AACM,SAASvB,eAAT,CAAyBsB,KAAzB,EAAgC;AACnCA,UAAMjB,OAAN,GAAgBN,gBAAgBuB,KAAhB,CAAhB;AACA,WAAOA,KAAP;AACH;AACM,SAASrB,QAAT,CAAkBqB,KAAlB,EAAyB;AAC5B,WAAOA,MAAMjB,OAAN,CAAcA,OAAd,KAA0BiB,MAAMR,MAAN,CAAaW,MAA9C;AACH;AACD","file":"GameColor.js","sourcesContent":["import { pieceHelper } from './helpers/PieceHelper';\nexport class GameColor {\n    /**\n     * Get a clean game color\n     */\n    constructor(boardOptions, isBlack) {\n        this.winners = {\n            winners: 0,\n            preWinnersPoints: 0\n        };\n        this.jumps = 0;\n        this.points = 0;\n        this.nMoves = 0;\n        const y = (boardOptions.size.y - 1);\n        this.startRow = isBlack ? 0 : y;\n        this.endRow = isBlack ? y : 0;\n        this.pieces = pieceHelper.getStartPieces(boardOptions, this.startRow, isBlack);\n    }\n    move(startPosition, nextPosition) {\n        this.pieces.forEach(piece => {\n            if (piece.position.x === startPosition.x\n                && piece.position.y === startPosition.y) {\n                piece.position.x = nextPosition.x;\n                piece.position.y = nextPosition.y;\n            }\n        });\n    }\n}\nexport function getColorWinners(color) {\n    const initialWinners = {\n        winners: 0,\n        preWinnersPoints: 0\n    };\n    return color.pieces.reduce((winners, piece) => {\n        if (piece.position.y === color.endRow)\n            winners.winners += 1;\n        else\n            winners.preWinnersPoints += color.endRow === 0\n                ? color.startRow - piece.position.y\n                : piece.position.y;\n        return winners;\n    }, initialWinners);\n}\nexport function setColorWinners(color) {\n    color.winners = getColorWinners(color);\n    return color;\n}\nexport function colorWin(color) {\n    return color.winners.winners === color.pieces.length;\n}\n//# sourceMappingURL=GameColor.js.map"]}