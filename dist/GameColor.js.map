{"version":3,"sources":["../dist-esnext/GameColor.js"],"names":["create","boardConf","isBlack","pieces","black","white","startRow","endRow","score","won","winners","preWinnersPoints","jumps","points","nMoves","getPiecesAfterMove","move","map","piece","position","x","from","y","to","getColorScore","color","reduce","newScore","length","getColorAfterMove"],"mappings":";;;;;AAAA,SAASA,MAAT,CAAgBC,SAAhB,EAA2BC,OAA3B,EAAoCC,MAApC,EAA4C;AAAA,eACXD,UAAUD,UAAUG,KAApB,GAA4BH,UAAUI,KAD3B;AAAA,QAChCC,QADgC,QAChCA,QADgC;AAAA,QACtBC,MADsB,QACtBA,MADsB;;AAExC,WAAO;AACHC,eAAO;AACHC,iBAAK,KADF;AAEHC,qBAAS,CAFN;AAGHC,8BAAkB;AAHf,SADJ;AAMHC,eAAO,CANJ;AAOHC,gBAAQ,CAPL;AAQHC,gBAAQ,CARL;AASHX,sBATG;AAUHD,wBAVG;AAWHI,0BAXG;AAYHC;AAZG,KAAP;AAcH;AACD;;;;AAIA,SAASQ,kBAAT,CAA4BZ,MAA5B,EAAoCa,IAApC,EAA0C;AACtC,WAAOb,OAAOc,GAAP,CAAW,iBAAS;AACvB,YAAIC,MAAMC,QAAN,CAAeC,CAAf,KAAqBJ,KAAKK,IAAL,CAAUD,CAA/B,IACGF,MAAMC,QAAN,CAAeG,CAAf,KAAqBN,KAAKK,IAAL,CAAUC,CADtC,EACyC;AACrCJ,kBAAMC,QAAN,CAAeC,CAAf,GAAmBJ,KAAKO,EAAL,CAAQH,CAA3B;AACAF,kBAAMC,QAAN,CAAeG,CAAf,GAAmBN,KAAKO,EAAL,CAAQD,CAA3B;AACH;AACD,eAAOJ,KAAP;AACH,KAPM,CAAP;AAQH;AACD,SAASM,aAAT,CAAuBC,KAAvB,EAA8B;AAC1B,QAAIjB,QAAQ;AACRC,aAAK,KADG;AAERC,iBAAS,CAFD;AAGRC,0BAAkB;AAHV,KAAZ;AAKAH,YAAQiB,MAAMtB,MAAN,CAAauB,MAAb,CAAoB,UAACC,QAAD,EAAWT,KAAX,EAAqB;AAC7C,YAAIA,MAAMC,QAAN,CAAeG,CAAf,KAAqBG,MAAMlB,MAA/B,EACIoB,SAASjB,OAAT,IAAoB,CAApB,CADJ,KAGIiB,SAAShB,gBAAT,IAA6Bc,MAAMlB,MAAN,KAAiB,CAAjB,GACvBkB,MAAMnB,QAAN,GAAiBY,MAAMC,QAAN,CAAeG,CADT,GAEvBJ,MAAMC,QAAN,CAAeG,CAFrB;AAGJ,eAAOK,QAAP;AACH,KARO,EAQLnB,KARK,CAAR;AASAA,UAAMC,GAAN,GAAYD,MAAME,OAAN,KAAkBe,MAAMtB,MAAN,CAAayB,MAA3C;AACA,WAAOpB,KAAP;AACH;AACD;;;;;;;AAOA,SAASqB,iBAAT,CAA2BJ,KAA3B,EAAkCT,IAAlC,EAAwC;AACpCS,UAAMtB,MAAN,GAAeY,mBAAmBU,MAAMtB,MAAzB,EAAiCa,IAAjC,CAAf;AACAS,UAAMjB,KAAN,GAAcgB,cAAcC,KAAd,CAAd;AACA,WAAOA,KAAP;AACH;QACQzB,M,GAAAA,M;QAAQ6B,iB,GAAAA,iB;QAAmBL,a,GAAAA,a;AACpC","file":"GameColor.js","sourcesContent":["function create(boardConf, isBlack, pieces) {\n    const { startRow, endRow } = isBlack ? boardConf.black : boardConf.white;\n    return {\n        score: {\n            won: false,\n            winners: 0,\n            preWinnersPoints: 0\n        },\n        jumps: 0,\n        points: 0,\n        nMoves: 0,\n        pieces,\n        isBlack,\n        startRow,\n        endRow\n    };\n}\n/**\n * Takes a list of pieces and move.\n * Returns the pieces changed with move positions.\n */\nfunction getPiecesAfterMove(pieces, move) {\n    return pieces.map(piece => {\n        if (piece.position.x === move.from.x\n            && piece.position.y === move.from.y) {\n            piece.position.x = move.to.x;\n            piece.position.y = move.to.y;\n        }\n        return piece;\n    });\n}\nfunction getColorScore(color) {\n    let score = {\n        won: false,\n        winners: 0,\n        preWinnersPoints: 0\n    };\n    score = color.pieces.reduce((newScore, piece) => {\n        if (piece.position.y === color.endRow)\n            newScore.winners += 1;\n        else\n            newScore.preWinnersPoints += color.endRow === 0\n                ? color.startRow - piece.position.y\n                : piece.position.y;\n        return newScore;\n    }, score);\n    score.won = score.winners === color.pieces.length;\n    return score;\n}\n/**\n * Takes a GameColor and move.\n * Sets:\n *  - .pieces = getPiecesAfterMove.\n *  - .score = getScore.\n * Returns GameColor after move.\n */\nfunction getColorAfterMove(color, move) {\n    color.pieces = getPiecesAfterMove(color.pieces, move);\n    color.score = getColorScore(color);\n    return color;\n}\nexport { create, getColorAfterMove, getColorScore };\n//# sourceMappingURL=GameColor.js.map"]}